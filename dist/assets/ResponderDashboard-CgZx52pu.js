import{c as d,r as i,j as e,A as z,C as k,S as T,R as V}from"./index-B_dDcTag.js";import{s as F,b as q,M as B,T as H,a as L,P as U,u as Q,L as C}from"./LoadingSpinner-Ca-9tSYO.js";import{F as Z,M as P,a as O,b as G,c as Y,v as X,d as J}from"./api-0fk011ha.js";import{Z as K,T as W,C as M}from"./zap-BC4dEVWV.js";import{A as ee}from"./arrow-up-DIHJwDki.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=d("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=d("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=d("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=d("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=d("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=d("Siren",[["path",{d:"M7 12a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v6H7v-6Z",key:"rmc51c"}],["path",{d:"M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v2H5v-2Z",key:"yyvmjy"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=d("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=d("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=d("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),N={Critical:{score:100,color:"bg-red-600",textColor:"text-red-400",borderColor:"border-red-500"},High:{score:70,color:"bg-orange-500",textColor:"text-orange-400",borderColor:"border-orange-500"},Medium:{score:40,color:"bg-yellow-500",textColor:"text-yellow-400",borderColor:"border-yellow-500"},Low:{score:10,color:"bg-green-500",textColor:"text-green-400",borderColor:"border-green-500"}},A={Fire:"ðŸ”¥",Accident:"ðŸš—",Medical:"ðŸ¥",Crime:"ðŸš¨",Infrastructure:"ðŸ—ï¸",Other:"âš ï¸"},ce=r=>{let o=0;const g=N[r.severity]||N.Medium;o+=g.score;const c=(Date.now()-new Date(r.timestamp).getTime())/6e4,s=Math.max(0,30-Math.floor(c/10)*5);o+=s;const a=Math.min(20,(r.upvotes||0)*2);return o+=a,r.verified&&(o+=15),r.status==="In Progress"||r.status==="Dispatched"?o=Math.floor(o*.7):(r.status==="Resolved"||r.status==="Closed")&&(o=Math.floor(o*.3)),Math.min(100,Math.max(0,o))},xe=r=>{const o=Math.floor((Date.now()-new Date(r).getTime())/1e3);return o<60?`${o}s`:o<3600?`${Math.floor(o/60)}m`:o<86400?`${Math.floor(o/3600)}h`:`${Math.floor(o/86400)}d`},me=r=>r===1?"bg-gradient-to-br from-yellow-500 to-amber-600 text-black":r===2?"bg-gradient-to-br from-gray-300 to-gray-400 text-black":r===3?"bg-gradient-to-br from-amber-600 to-amber-700 text-white":"bg-gray-700 text-gray-300",ge=({incidents:r,onSelectIncident:o,selectedId:g})=>{const c=i.useMemo(()=>[...r].map(a=>({...a,calculatedPriority:ce(a)})).sort((a,p)=>p.calculatedPriority-a.calculatedPriority),[r]),s=i.useMemo(()=>({critical:r.filter(a=>a.severity==="Critical").length,active:r.filter(a=>["Reported","Verified","In Progress","Dispatched"].includes(a.status)).length,pending:r.filter(a=>a.status==="Reported").length}),[r]);return e.jsxs("div",{className:"h-full flex flex-col bg-slate-900",children:[e.jsxs("div",{className:"p-4 border-b border-slate-700 bg-gradient-to-r from-red-900/50 to-orange-900/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Z,{className:"text-orange-500 animate-pulse",size:24}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Priority Queue"}),e.jsxs("div",{className:"ml-auto px-2 py-1 bg-purple-600/30 rounded text-purple-300 text-xs flex items-center gap-1",children:[e.jsx(K,{size:12}),"AI-Powered"]})]}),e.jsxs("div",{className:"flex gap-2 text-xs",children:[e.jsxs("div",{className:"px-2 py-1 bg-red-600/30 rounded-full text-red-300 flex items-center gap-1",children:[e.jsx(z,{size:12}),s.critical," Critical"]}),e.jsxs("div",{className:"px-2 py-1 bg-orange-600/30 rounded-full text-orange-300 flex items-center gap-1",children:[e.jsx(W,{size:12}),s.active," Active"]}),e.jsxs("div",{className:"px-2 py-1 bg-blue-600/30 rounded-full text-blue-300 flex items-center gap-1",children:[e.jsx(M,{size:12}),s.pending," Pending"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:c.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[e.jsx(k,{size:48,className:"mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No active incidents"})]}):c.map((a,p)=>{var y,f,j,v,b;const u=p+1,x=N[a.severity]||N.Medium,w=g===a._id,h=a.severity==="Critical";return e.jsxs("div",{onClick:()=>o(a),className:`relative p-3 rounded-xl cursor-pointer transition-all duration-200 
                  ${w?"bg-blue-600/30 border-2 border-blue-500 shadow-lg shadow-blue-500/20":"bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-slate-600"}
                  ${h?"ring-1 ring-red-500/50":""}
                `,children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 rounded-l-xl ${x.color}`}),e.jsxs("div",{className:`absolute -top-2 -left-2 w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold shadow-lg ${me(u)}`,children:["#",u]}),e.jsx("div",{className:"absolute -top-2 -right-2 px-2 py-0.5 bg-red-600 rounded-full text-white text-xs font-bold shadow-lg",children:a.calculatedPriority}),h&&e.jsxs("div",{className:"absolute top-2 right-2 px-2 py-0.5 bg-red-600 rounded text-white text-[10px] font-bold animate-pulse flex items-center gap-1",children:[e.jsx(z,{size:10}),"URGENT"]}),e.jsxs("div",{className:"pl-4 pt-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:A[a.type]||A.Other}),e.jsx("span",{className:"font-semibold text-white",children:a.type})]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-xs",children:[e.jsx(M,{size:12}),xe(a.timestamp)]})]}),e.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-2",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-500 text-xs",children:[e.jsx(P,{size:12}),e.jsx("span",{className:"truncate max-w-[100px]",children:((y=a.location)==null?void 0:y.address)||`${(j=(f=a.location)==null?void 0:f.lat)==null?void 0:j.toFixed(3)}, ${(b=(v=a.location)==null?void 0:v.lng)==null?void 0:b.toFixed(3)}`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.verified&&e.jsx("div",{className:"flex items-center gap-1 text-green-400 text-xs",children:e.jsx(k,{size:12})}),(a.upvotes||0)>0&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-400 text-xs",children:[e.jsx(ee,{size:12}),a.upvotes]}),e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-medium ${x.color}`,children:a.status})]})]})]})]},a._id)})}),e.jsx("div",{className:"p-3 border-t border-slate-700 bg-slate-800/50",children:e.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-700 rounded text-gray-400 font-mono",children:"1-9"}),"Select"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-700 rounded text-gray-400 font-mono",children:"V"}),"Verify"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-700 rounded text-gray-400 font-mono",children:"D"}),"Dispatch"]})]})})]})};delete C.Icon.Default.prototype._getIconUrl;C.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const he=(r,o)=>{const c={Critical:"#dc2626",High:"#ea580c",Medium:"#ca8a04",Low:"#16a34a"}[r]||"#3b82f6",s=o?20:14;return C.divIcon({className:"custom-marker",html:`<div style="
      width: ${s}px; 
      height: ${s}px; 
      background: ${c}; 
      border: 3px solid white;
      border-radius: 50%; 
      box-shadow: 0 2px 8px rgba(0,0,0,0.4);
      ${o?"animation: pulse 1s infinite;":""}
    "></div>`,iconSize:[s,s],iconAnchor:[s/2,s/2]})},D={Fire:"ðŸ”¥",Accident:"ðŸš—",Medical:"ðŸ¥",Crime:"ðŸš¨",Infrastructure:"ðŸ—ï¸"},pe=({selectedIncident:r})=>{const o=Q();return i.useEffect(()=>{r&&r.location&&o.flyTo([r.location.lat,r.location.lng],15,{duration:1})},[r,o]),null},ve=()=>{const[r,o]=i.useState({total:0,critical:0,high:0,inProgress:0,resolved:0,pending:0,last24h:0}),[g,c]=i.useState([]),[s,a]=i.useState(null),[p,u]=i.useState(!0),[x,w]=i.useState(!0),[h,y]=i.useState(null),[f,j]=i.useState(""),[v,b]=i.useState(!1),n=i.useCallback(async()=>{try{const[t,l]=await Promise.all([O(),G({limit:20})]);o(t),c(l.incidents||[]),u(!1)}catch(t){console.error("Error fetching data:",t),u(!1)}},[]);i.useEffect(()=>{n();const t=setInterval(n,3e4);return()=>clearInterval(t)},[n]),i.useEffect(()=>{const t=F(l=>{var m;l.type==="new_incident"?(x&&((m=l.data.incident)==null?void 0:m.severity)==="Critical"&&I(),y(l.data.incident),setTimeout(()=>y(null),5e3),n()):(l.type==="upvote_update"||l.type==="incident_updated")&&n()});return()=>t()},[x,n]);const I=()=>{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleA8YTq3jw4F6Fjax1d99bQ==").play().catch(()=>{})},S=async(t,l)=>{try{await Y(t,l),n(),(s==null?void 0:s._id)===t&&a(m=>({...m,status:l}))}catch(m){console.error("Error updating status:",m)}},_=async t=>{try{await X(t),n(),(s==null?void 0:s._id)===t&&a(l=>({...l,verified:!0,status:"Verified"}))}catch(l){console.error("Error verifying:",l)}},R=async t=>{if(window.confirm("Are you sure you want to delete this incident?"))try{await J(t),n(),(s==null?void 0:s._id)===t&&a(null)}catch(l){console.error("Error deleting:",l)}},$=t=>({Critical:"bg-red-600",High:"bg-orange-500",Medium:"bg-yellow-500",Low:"bg-green-500"})[t]||"bg-gray-500",E=t=>{const l=Math.floor((new Date-new Date(t))/1e3);return l<60?`${l}s ago`:l<3600?`${Math.floor(l/60)}m ago`:l<86400?`${Math.floor(l/3600)}h ago`:`${Math.floor(l/86400)}d ago`};return p?e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsx(q,{size:"xl",text:"Loading Dashboard..."})}):e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"bg-black/50 border-b border-gray-800 p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{className:"text-red-500",size:28}),e.jsx("h1",{className:"text-2xl font-bold",children:"Responder Dashboard"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>w(!x),className:`p-2 rounded-lg ${x?"bg-green-600":"bg-gray-700"}`,children:x?e.jsx(ne,{size:20}):e.jsx(de,{size:20})}),e.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-500",children:[e.jsx(V,{size:18}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border-l-4 border-blue-500",children:[e.jsx("div",{className:"text-3xl font-bold",children:r.total}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Total Incidents"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border-l-4 border-red-500",children:[e.jsx("div",{className:"text-3xl font-bold text-red-500",children:r.critical}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Critical"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border-l-4 border-yellow-500",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-500",children:r.pending}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Pending"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border-l-4 border-orange-500",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-500",children:r.inProgress}),e.jsx("div",{className:"text-gray-400 text-sm",children:"In Progress"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border-l-4 border-green-500",children:[e.jsx("div",{className:"text-3xl font-bold text-green-500",children:r.resolved}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Resolved"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border-l-4 border-purple-500",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-500",children:r.last24h}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Last 24h"})]})]})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row h-[calc(100vh-200px)]",children:[e.jsx("div",{className:"w-full lg:w-1/4 h-64 lg:h-full border-b lg:border-b-0 lg:border-r border-gray-800",children:e.jsx(ge,{incidents:g,onSelectIncident:a,selectedId:s==null?void 0:s._id})}),e.jsx("div",{className:"w-full lg:w-1/2 h-64 lg:h-full relative",children:e.jsxs(B,{center:[20.5937,78.9629],zoom:5,className:"h-full w-full",style:{background:"#1a1a2e"},children:[e.jsx(H,{attribution:"Â© OpenStreetMap",url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),e.jsx(pe,{selectedIncident:s}),g.map(t=>e.jsx(L,{position:[t.location.lat,t.location.lng],icon:he(t.severity,(s==null?void 0:s._id)===t._id),eventHandlers:{click:()=>a(t)},children:e.jsx(U,{children:e.jsxs("div",{className:"p-2 min-w-[200px]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xl",children:D[t.type]}),e.jsx("span",{className:"font-bold",children:t.type})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.description}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Priority Score: ",t.priority]})]})})},t._id))]})}),e.jsxs("div",{className:"w-full lg:w-1/4 bg-gray-900 border-t lg:border-t-0 lg:border-l border-gray-800 overflow-y-auto",children:[e.jsx("div",{className:"p-4 border-b border-gray-800 sticky top-0 bg-gray-900 z-10",children:e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[e.jsx(re,{size:20}),"Incident Details"]})}),s?e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:D[s.type]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:s.type}),e.jsx("p",{className:"text-sm text-gray-400",children:E(s.timestamp)})]})]}),e.jsx("div",{className:`px-3 py-1 rounded font-bold ${$(s.severity)}`,children:s.severity})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-1",children:"Description"}),e.jsx("p",{className:"text-sm",children:s.description})]}),s.ai_analysis&&e.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[e.jsx("h4",{className:"text-sm text-gray-400 mb-2",children:"AI Analysis"}),e.jsx("p",{className:"text-sm mb-2",children:s.ai_analysis.summary}),s.ai_analysis.tags&&e.jsx("div",{className:"flex flex-wrap gap-1",children:s.ai_analysis.tags.map((t,l)=>e.jsxs("span",{className:"px-2 py-0.5 bg-blue-600/30 text-blue-300 text-xs rounded",children:["#",t]},l))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.upvotes}),e.jsx("div",{className:"text-xs text-gray-400",children:"Upvotes"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.priority||"--"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Priority"})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[e.jsxs("h4",{className:"text-sm text-gray-400 font-medium flex items-center gap-2",children:[e.jsx(M,{size:14}),"Update Status"]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Reported","Verified","In Progress","Dispatched","Resolved","Closed"].map(t=>{const l=s.status===t,m={Reported:"bg-blue-600",Verified:"bg-purple-600","In Progress":"bg-yellow-600",Dispatched:"bg-orange-600",Resolved:"bg-green-600",Closed:"bg-gray-600"};return e.jsx("button",{onClick:()=>S(s._id,t),className:`px-2 py-2 rounded-lg text-xs font-medium transition-all ${l?`${m[t]} text-white ring-2 ring-white/30`:"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:t},t)})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-sm text-gray-400 font-medium flex items-center gap-2 mb-2",children:[e.jsx(ae,{size:14}),"Responder Notes"]}),e.jsx("textarea",{value:f,onChange:t=>j(t.target.value),placeholder:"Add internal notes for this incident...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg p-3 text-white text-sm placeholder-gray-500 resize-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none",rows:3}),e.jsxs("button",{onClick:()=>{b(!0),setTimeout(()=>b(!1),2e3)},className:"mt-2 flex items-center justify-center gap-2 w-full bg-blue-600 hover:bg-blue-500 py-2 rounded-lg text-sm font-medium transition-all",children:[e.jsx(le,{size:14}),v?"Saved!":"Save Notes"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>S(s._id,"Dispatched"),className:"w-full flex items-center justify-center gap-3 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 py-4 rounded-xl font-bold text-lg transition-all shadow-lg shadow-red-500/20 hover:shadow-red-500/40 hover:scale-[1.02]",children:[e.jsx(oe,{size:24,className:"animate-pulse"}),"DISPATCH RESPONDERS"]}),!s.verified&&e.jsxs("button",{onClick:()=>_(s._id),className:"w-full flex items-center justify-center gap-2 bg-purple-600 hover:bg-purple-500 py-3 rounded-lg font-medium transition-all",children:[e.jsx(te,{size:18}),"Verify Incident"]}),s.verified&&e.jsxs("div",{className:"w-full flex items-center justify-center gap-2 bg-green-600/20 border border-green-500/30 text-green-400 py-3 rounded-lg font-medium",children:[e.jsx(k,{size:18}),"Incident Verified"]}),e.jsxs("button",{onClick:()=>R(s._id),className:"w-full flex items-center justify-center gap-2 bg-gray-800 hover:bg-red-600/20 text-gray-400 hover:text-red-400 py-2 rounded-lg text-sm font-medium border border-gray-700 hover:border-red-600/50 transition-all",children:[e.jsx(ie,{size:16}),"Delete Incident"]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[e.jsx(P,{size:48,className:"mb-4"}),e.jsx("p",{children:"Select an incident to view details"})]})]})]}),h&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-red-600 text-white p-4 rounded-lg shadow-2xl animate-bounce z-50 max-w-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(se,{className:"animate-pulse"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold",children:["New ",h.severity," Incident!"]}),e.jsxs("div",{className:"text-sm",children:[h.type," reported"]})]})]})}),e.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.2); }
        }
      `})]})};export{ve as default};
